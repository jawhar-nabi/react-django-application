{"ast":null,"code":"var _jsxFileName = \"/home/yoosurf/Bureau/proj/react-django-application/bookstore-front/src/components/search.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router';\nexport class Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.sendData = att => {\n      this.props.parentCallback(att);\n    };\n\n    this.state = {\n      resultat: {},\n      searchBox: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.handleforum = this.handleforum.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      searchBox: event.target.value\n    });\n  }\n\n  handleforum() {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/forum\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 15\n      }\n    }); //this.props.hashHistory.push('/forum');\n  }\n\n  handleClick(event) {\n    //console.log(this.state.searchBox);\n    axios({\n      method: 'get',\n      url: 'http://127.0.0.1:5000/pages/searchurl/' + this.state.searchBox\n    }).then(res => {\n      // console.log(\"###########################################################\");\n      // console.log(res.data);\n      //console.log(\"###########################################################\");\n      this.state.resultat = res; // console.log(this.state.resultat.data);\n\n      this.sendData(res.data);\n      this.handleforum();\n    }).catch(console.log(\"\\n***************search not working**************************\"));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-search-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Search entire store here\",\n      value: this.state.searchBox,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 58\n      }\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/home/yoosurf/Bureau/proj/react-django-application/bookstore-front/src/components/search.js"],"names":["React","Component","axios","Link","Redirect","Search","constructor","props","sendData","att","parentCallback","state","resultat","searchBox","handleChange","bind","handleClick","handleforum","event","setState","target","value","method","url","then","res","data","catch","console","log","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAO,MAAMC,MAAN,SAAqBJ,SAArB,CAA+B;AAElCK,EAAAA,WAAW,CAACC,KAAD,EACX;AACE,UAAMA,KAAN;;AADF,SA6CDC,QA7CC,GA6CWC,GAAD,IAAS;AACjB,WAAKF,KAAL,CAAWG,cAAX,CAA0BD,GAA1B;AACF,KA/CA;;AAEE,SAAKE,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,SAAS,EAAC;AAFC,KAAb;AAIC,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,WAAL,GAAiB,KAAKA,WAAL,CAAiBD,IAAjB,CAAsB,IAAtB,CAAjB;AACA,SAAKE,WAAL,GAAiB,KAAKA,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAAjB;AACF;;AAEDD,EAAAA,YAAY,CAACI,KAAD,EAAQ;AACpB,SAAKC,QAAL,CAAc;AAACN,MAAAA,SAAS,EAAEK,KAAK,CAACE,MAAN,CAAaC;AAAzB,KAAd;AACC;;AAEDJ,EAAAA,WAAW,GAAE;AACV,wBAAO,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP,CADU,CAEV;AACF;;AAGDD,EAAAA,WAAW,CAACE,KAAD,EAAQ;AACf;AACAhB,IAAAA,KAAK,CAAC;AACFoB,MAAAA,MAAM,EAAE,KADN;AAEFC,MAAAA,GAAG,EAAE,2CAAyC,KAAKZ,KAAL,CAAWE;AAFvD,KAAD,CAAL,CAIGW,IAJH,CAIQC,GAAG,IAAI;AACZ;AACA;AACC;AACA,WAAKd,KAAL,CAAWC,QAAX,GAAoBa,GAApB,CAJW,CAKZ;;AACD,WAAKjB,QAAL,CAAciB,GAAG,CAACC,IAAlB;AACA,WAAKT,WAAL;AACC,KAZH,EAgBGU,KAhBH,CAiBMC,OAAO,CAACC,GAAR,CAAY,+DAAZ,CAjBN;AAoBD;;AAKHC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACQ;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,WAAW,EAAC,0BAA/B;AAA0D,MAAA,KAAK,EAAE,KAAKnB,KAAL,CAAWE,SAA5E;AAAuF,MAAA,QAAQ,EAAE,KAAKC,YAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAWA;AAAQ,MAAA,OAAO,EAAE,KAAKE,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAqC;AAAG,MAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArC,CAXA,CADR,CADJ;AAiBH;;AArEiC","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { Redirect } from 'react-router';\nexport class Search extends Component {\n\n    constructor(props) \n    {\n      super(props);\n      this.state = {\n        resultat: {},\n        searchBox:''};\n\n       this.handleChange = this.handleChange.bind(this);\n       this.handleClick=this.handleClick.bind(this);\n       this.handleforum=this.handleforum.bind(this);\n    }\n\n    handleChange(event) {\n    this.setState({searchBox: event.target.value});\n    }\n\n    handleforum(){\n       return <Redirect to='/forum'/>;\n       //this.props.hashHistory.push('/forum');\n    }\n\n\n    handleClick(event) {\n        //console.log(this.state.searchBox);\n        axios({\n            method: 'get',\n            url: 'http://127.0.0.1:5000/pages/searchurl/'+this.state.searchBox\n            })\n          .then(res => {\n           // console.log(\"###########################################################\");\n           // console.log(res.data);\n            //console.log(\"###########################################################\");\n            this.state.resultat=res; \n           // console.log(this.state.resultat.data);\n          this.sendData(res.data);\n          this.handleforum()\n          }\n          \n          \n          )\n          .catch(\n              console.log(\"\\n***************search not working**************************\")\n                 );\n      \n      }\n\n   sendData = (att) => {\n      this.props.parentCallback(att);\n   }\n    render() {\n        return (\n            <div>\n                    <div className=\"header-search-block\">\n                        <input type=\"text\" placeholder=\"Search entire store here\" value={this.state.searchBox} onChange={this.handleChange} />\n                     { /*<Link to={{\n                          pathname:\"/forum\",\n                          state:{data:this.state.resultat}\n                      }}>\n                      hathy bech ab3eth data lel forum ama testetha majet lken fell string \n                      talgui el call fel forum.js\n                      */\n                      }\n                      \n                    <button onClick={this.handleClick}  ><i className=\"fa fa-search\"></i></button>\n                         </div>\n                </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}